(this["webpackJsonpteam-bread"]=this["webpackJsonpteam-bread"]||[]).push([[0],{113:function(e,t,a){e.exports=a.p+"static/media/walking.7b139594.jpg"},114:function(e,t,a){e.exports=a.p+"static/media/arboretum.56a5eafb.jpg"},118:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(25),o=a.n(i),l=(a(45),a(12)),s=a(11),c=a(14),u=a(13),h=a(5),m=a(15),d=(a(91),a(72)),p=a.n(d),g=a(129);function f(e){return r.a.createElement("div",{id:"profileBack"},r.a.createElement("div",{id:"profile"},r.a.createElement(g.a,null,r.a.createElement("h3",null,"Please sign-in:"),r.a.createElement(p.a,{uiConfig:e.uiConfig,firebaseAuth:e.fbAuth()}))))}var b=a(120),v=a(23),E=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.home?r.a.createElement("div",{id:"bgImg"},r.a.createElement("div",{id:"beginWrap"},r.a.createElement("div",{id:"begin",className:"d-flex"},r.a.createElement(g.a,{className:"bg-light border-light text-center p-1"},r.a.createElement(g.a.Body,null,r.a.createElement(g.a.Title,{className:"text-center"},"Let's Take a Walk..."),r.a.createElement(v.b,{to:"/findroute"},r.a.createElement(b.a,{variant:"primary",className:"shadow",id:"BEGINNN",size:"lg"},"Begin"))))))):r.a.createElement("div",{id:"beginWrap"},r.a.createElement("div",{id:"begin",className:"d-flex"},r.a.createElement(g.a,{className:"bg-light border-light text-center p-1"},r.a.createElement(g.a.Body,null,r.a.createElement(g.a.Title,{className:"text-center"},"Let's Take a Walk..."),r.a.createElement(v.b,{to:"/findroute"},r.a.createElement(b.a,{variant:"primary",className:"shadow",id:"BEGINNN",size:"lg"},"Begin"))))))}}]),t}(r.a.Component),y=a(44),k=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={imgs:["https://images.unsplash.com/photo-1455594408994-253112b1b26e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80","https://images.unsplash.com/photo-1529911428236-64aeb97a6de2?ixlib=rb-1.2.1&auto=format&fit=crop&w=1789&q=80","https://images.unsplash.com/photo-1442512595331-e89e73853f31?ixlib=rb-1.2.1&auto=format&fit=crop&w=1500&q=80","https://images.unsplash.com/photo-1559511332-cd0f6550aca1?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80"]},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y.Parallax,{bgImage:this.state.imgs[0],className:"bg-img"},r.a.createElement("div",{className:"pWrap"},r.a.createElement("div",{className:"caption"},r.a.createElement("span",{className:"border rounded"},"Plan Your Stress Free Walk Today!")),r.a.createElement("div",{className:"unsplash-credit border rounded"},r.a.createElement("span",null,"Photo by ",r.a.createElement("a",{href:"https://unsplash.com/@akeenster?utm_medium=referral&utm_campaign=photographer-credit&utm_content=creditBadge",target:"_blank"},"Abigail Keenan"))))),r.a.createElement("div",{className:"desc-text"},r.a.createElement("div",{className:"desc-wrapper"},r.a.createElement("h1",{className:"desc-header"},r.a.createElement("em",null,"Walk Buddy will help you find personalized walk routes that fit your needs and help you destress!")),r.a.createElement("p",null,"Life can get stressful, and a great way to cope with that and destress is to go on walks. A study in Germany showed that mindful walking could reduce stress levels on adults. Going to places can help to brighten one\u2019s day, but at the same time, we want to ensure that one does not encounter something stressful along the way. Oftentimes, people only know of nice walking paths from experience or word of mouth. To make matters even more complicated, destressing comes in many forms, and different populations have different versions of stress. This is where we come in."))),r.a.createElement(y.Parallax,{bgImage:this.state.imgs[1],className:"bg-img"},r.a.createElement("div",{className:"pWrap"},r.a.createElement("div",{className:"caption"},r.a.createElement("span",{className:"border rounded"},"Step 1: Figure out where to go")),r.a.createElement("div",{className:"unsplash-credit"},r.a.createElement("span",null,"Photo by ",r.a.createElement("a",{href:"https://unsplash.com/@milanseitler?utm_medium=referral&utm_campaign=photographer-credit&utm_content=creditBadge",target:"_blank"},"Milan Seitler"))))),r.a.createElement("div",{className:"desc-text"},r.a.createElement("div",{className:"desc-wrapper"},r.a.createElement("h1",{className:"desc-header"},r.a.createElement("em",null,"Don't know where to go? No worries!")),r.a.createElement("p",null,"Our survey will take you through a series of steps to figure out what and where you want to go. You'll be able to filter on categories like distance, location, sound level, destination type, level of hilliness and many more!"))),r.a.createElement(y.Parallax,{bgImage:this.state.imgs[2],className:"bg-img"},r.a.createElement("div",{className:"pWrap"},r.a.createElement("div",{className:"caption"},r.a.createElement("span",{className:"border rounded"},"Step 2: Choose your destination")),r.a.createElement("div",{className:"unsplash-credit"},r.a.createElement("span",null,"Photo by ",r.a.createElement("a",{href:"https://unsplash.com/@kfred?utm_medium=referral&utm_campaign=photographer-credit&utm_content=creditBadge",target:"_blank"},"Karl Fredrickson"))))),r.a.createElement("div",{className:"desc-text"},r.a.createElement("div",{className:"desc-wrapper"},r.a.createElement("h1",{className:"desc-header"},r.a.createElement("em",null,"Our survey will give you a list of personalized suggested locations to walk to.")),r.a.createElement("p",null,"Explore routes and learn more about your local area based off your personalized suggestions! We utilize user reviews to help you decide which routes would be best for you. If there are simply too many routes that you want to do, you will also have the option to save them for future use. "))),r.a.createElement(y.Parallax,{bgImage:this.state.imgs[3],className:"bg-img"},r.a.createElement("div",{className:"pWrap"},r.a.createElement("div",{className:"caption"},r.a.createElement("span",{className:"border rounded"},"Step 3: Start Walking!")),r.a.createElement("div",{className:"unsplash-credit"},r.a.createElement("span",null,"Photo by ",r.a.createElement("a",{href:"https://unsplash.com/@kfred?utm_medium=referral&utm_campaign=photographer-credit&utm_content=creditBadge"},"Karl Fredrickson"))))),r.a.createElement("div",{className:"desc-text"},r.a.createElement("div",{className:"desc-wrapper"},r.a.createElement(E,null))))}}]),t}(r.a.Component),w=a(124),j=a(121),O=a(17),S=window.google,N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).searchInput=r.a.createRef(),a.search=null,a.handlePlaceChanged=a.handlePlaceChanged.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.search=new S.maps.places.SearchBox(this.searchInput.current),this.search.addListener("places_changed",this.handlePlaceChanged)}},{key:"handlePlaceChanged",value:function(){var e=this.search.getPlaces(),t={};if(t.name=e[0].name,t.lat=e[0].geometry.location.lat(),t.long=e[0].geometry.location.lng(),0!=e.length)return this.props.startResult(t)}},{key:"render",value:function(){var e;return r.a.createElement("input",(e={ref:this.searchInput,id:"search",placeholder:"Enter your address",type:"text"},Object(O.a)(e,"id","searchBox"),Object(O.a)(e,"className",""),e))}}]),t}(r.a.Component),x=a(32),C=(a(68),["bar","cafe","cinema","grave_yard","ice_cream","library","restaurant"]),P=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e.handleChecks=e.handleChecks.bind(Object(h.a)(e)),e.handleSearch=e.handleSearch.bind(Object(h.a)(e)),e.handleDistance=e.handleDistance.bind(Object(h.a)(e)),e.state={redirect:!1,start:{name:"USC Village",lat:34.0256262,long:-118.285044},distance:5,amenity:"cafe",BB:[["34.003104","-118.312219"][-118.257869]]},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(x.a,{to:"/resultsmap"}):r.a.createElement(w.a,{id:"form"},r.a.createElement(w.a.Group,{id:"form-group"},r.a.createElement("h1",null,"The Walk Buddy Route Generator"),r.a.createElement("p",null,"Please fill out a couple of questions, and soon you'll be on your way!")),r.a.createElement(w.a.Group,{id:"form-group"},r.a.createElement("div",{id:"find"},r.a.createElement(w.a.Label,null,r.a.createElement("strong",null,"Where are you currently located?")),r.a.createElement("p",null,"Note: Please only select an address that comes up in the autocomplete below :)")),r.a.createElement("div",{id:"locationField"},r.a.createElement(N,{startResult:this.handleSearch}))),r.a.createElement(w.a.Group,{id:"form-group"},r.a.createElement(w.a.Label,null,r.a.createElement("strong",null,"What is the maximum distance you'd like to walk today?")),r.a.createElement("div",{id:"blahblah"},r.a.createElement(j.a,null,r.a.createElement(w.a.Control,{type:"number",id:"distanceInput",min:0,step:1,onChange:this.handleDistance}),r.a.createElement(j.a.Append,null,r.a.createElement(j.a.Text,{id:"distanceButton"},"Kilometers"))))),r.a.createElement(w.a.Group,{id:"form-group"},r.a.createElement(w.a.Label,null,r.a.createElement("strong",null,"What types of places would you like to go to?")),this.createSurvey("amenityTypes",C,"amenity")),r.a.createElement(w.a.Group,{id:"form-group"},r.a.createElement(b.a,{variant:"primary",type:"button",onClick:this.handleSubmit},"Submit")))}},{key:"createSurvey",value:function(e,t,a){var n=this;return r.a.createElement("div",{id:e},r.a.createElement(w.a.Group,null,r.a.createElement("p",null,r.a.createElement("i",null,a.charAt(0).toUpperCase()+a.slice(1))),t.map((function(e){return r.a.createElement(j.a,null,r.a.createElement(w.a.Check,{type:"radio",label:e.charAt(0).toUpperCase()+e.slice(1),onClick:n.handleChecks,defaultChecked:!1,name:a,value:e}))}))))}},{key:"handleSubmit",value:function(e){this.getData()}},{key:"handleChecks",value:function(e){return this.setState({amenity:e.target.value})}},{key:"handleSearch",value:function(e){return this.setState({start:e})}},{key:"handleDistance",value:function(e){return this.setState({distance:e.target.value})}},{key:"getData",value:function(){var e=this,t=this.typeStrings(this.state.amenity,this.state.start.lat,this.state.start.long,this.state.distance);fetch(t).then((function(e){return e.json()})).then((function(t){var a=[],n=t.elements;n.length>100&&(n=e.findRandom100(n));for(var r=0;r<n.length;r++)if(void 0==n[r])r++;else if(void 0==n[r].tags.name)r++;else{var i={name:n[r].tags.name,lat:n[r].lat,long:n[r].lon};a.push(i)}return a})).then((function(t){return e.props.getResults(e.state.start,e.state.distance,t),e.setState({redirect:!0})}))}},{key:"findRandom100",value:function(e){for(var t=[],a=e.length,n=[],r=0;r<100;r++){for(var i=Math.round(Math.random()*a);n.includes(i);)i=Math.round(Math.random()*a);n.push(i),t.push(e[i])}return t}},{key:"typeStrings",value:function(e,t,a,n){var r="https://overpass-api.de/api/interpreter?data=[out:json];";return r+="node[amenity="+e+"]"+(this.calculateBB(t,a,n/2,"overpass")+";")+"out;"}},{key:"calculateBB",value:function(e,t,a,n){var r=(e-this.getLatDiff(a)).toFixed(6),i=(t-this.getLongDiff(a,e)).toFixed(6),o=(e+this.getLatDiff(a)).toFixed(6),l=(t+this.getLongDiff(a,e)).toFixed(6),s=[[r,i],[o,l]];return this.setState({BB:s}),"("+r+","+i+","+o+","+l+")"}},{key:"getLongDiff",value:function(e,t){return e/(111*Math.cos(Math.PI/180*t))}},{key:"getLatDiff",value:function(e){return e/111}}]),t}(r.a.Component),R=a(131),B=a(132),z=a(128),L=a(1),F=a.n(L),I=a(122),D=a(130),W=a(35),A=a(52),M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleRoute=a.handleRoute.bind(Object(h.a)(a)),a.addNewFav=a.addNewFav.bind(Object(h.a)(a)),a.state={favorited:!1,info:{name:a.props.name,lat:a.props.lat,long:a.props.long}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(I.a,{position:[this.props.lat,this.props.long],icon:this.props.icon},this.createPopup())}},{key:"createPopup",value:function(){return!0===this.props.start?r.a.createElement(D.a,null,this.props.name):r.a.createElement(D.a,null,this.props.name,r.a.createElement("br",null),r.a.createElement(b.a,{variant:"dark",type:"button",onClick:this.handleRoute},"Navigate"),this.state.favorited?r.a.createElement(b.a,{variant:"success"},"Favorited!"):r.a.createElement(b.a,{variant:"dark",onClick:this.addNewFav},r.a.createElement(W.a,{icon:A.a}),"Favorite"))}},{key:"handleRoute",value:function(){return this.props.route(this.state.info)}},{key:"addNewFav",value:function(){return console.log(this.state),this.setState({favorited:!0}),this.props.fav(this.state.info)}}]),t}(r.a.Component),U=(a(107),a(117),a(109),a(110),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={routingPopUp:null,token:"pk.eyJ1IjoiYW5uYXF6aG91IiwiYSI6ImNrNnJoNXRxNzAwbWszbXNieGFkYzcwdTkifQ.LtCGfbNE6CMEeMYQWW0H7A",mapbox:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"},a.initializeRouting=a.initializeRouting.bind(Object(h.a)(a)),a.destroyRouting=a.destroyRouting.bind(Object(h.a)(a)),a.setRoutingPopUp=a.setRoutingPopUp.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){!0===this.props.fromForm&&this.initializeRouting()}},{key:"componentDidUpdate",value:function(){this.initializeRouting()}},{key:"componentWillUnmount",value:function(){this.destroyRouting()}},{key:"initializeRouting",value:function(){var e=new F.a.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[35,51],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),t=new F.a.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});if(this.props.map&&!this.routing){var a=new F.a.Routing.Plan([F.a.latLng(this.props.sLat,this.props.sLong),F.a.latLng(this.props.eLat,this.props.eLong)],{routeWhileDragging:!1,createMarker:function(a,n,r){return 0==a?F.a.marker(n.latLng,{icon:e}):F.a.marker(n.latLng,{icon:t})},geocoder:F.a.Control.Geocoder.nominatim()});this.routing=F.a.Routing.control({plan:a,serviceUrl:this.state.mapbox,router:F.a.Routing.graphHopper("43b6f68e-d0b7-4312-933c-8d640f9a92d2",{urlParameters:{vehicle:"foot"}})}),this.props.map.leafletElement.addControl(this.routing)}}},{key:"destroyRouting",value:function(){this.props.map&&this.props.map.leafletElement.removeControl(this.routing)}},{key:"setRoutingPopUp",value:function(e){this.setState({routingPopUp:e})}},{key:"render",value:function(){return this.state.routingPopUp?r.a.createElement(D.a,this.state.routingPopUp):null}}]),t}(n.Component)),G=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).saveMap=function(e){a.map=e,a.setState({isMapInit:!0})},a.handleNav=a.handleNav.bind(Object(h.a)(a)),a.handleFav=a.handleFav.bind(Object(h.a)(a)),a.state={routingReady:!1,end:{},isMapInit:!1},console.log("resultsMap"),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=new F.a.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[35,51],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),a=new F.a.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});return this.state.routingReady?r.a.createElement("div",{id:"mapContainer"},r.a.createElement(R.a,{center:[this.props.start.lat,this.props.start.long],zoom:14,ref:this.saveMap},r.a.createElement(B.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.a.createElement(U,{map:this.map,sLat:this.props.start.lat,sLong:this.props.start.long,eLat:this.state.end.lat,eLong:this.state.end.long,fromForm:!0}))):r.a.createElement(R.a,{center:[this.props.start.lat,this.props.start.long],zoom:16,bounds:this.props.BB,ref:this.saveMap},r.a.createElement(B.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.a.createElement(z.a,null,r.a.createElement(M,{lat:this.props.start.lat,long:this.props.start.long,name:this.props.start.name,icon:t,start:!0,route:this.handleNav}),this.props.amenity.map((function(t,n){return r.a.createElement(M,{lat:t.lat,long:t.long,name:t.name,icon:a,start:!1,route:e.handleNav,fav:e.handleFav})}))))}},{key:"handleNav",value:function(e){return this.setState({end:e,routingReady:!0})}},{key:"handleFav",value:function(e){return console.log(this.props),console.log(e),this.props.addFav(e)}}]),t}(r.a.Component),T=a(79),_=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleClick",value:function(e){this.props.dealWithPlace(this.props.place.lat,this.props.place.long,this.props.place.name)}},{key:"removeCard",value:function(e){this.props.handleDelete(this.props.placeKey)}},{key:"render",value:function(){return r.a.createElement(g.a,{className:"col-xs-auto col-s-4 col-md-5 col-lg-5 col-xl-3"},r.a.createElement(g.a.Img,{variant:"top",src:a(113),style:{padding:"1rem"}}),r.a.createElement(g.a.Body,null,r.a.createElement(g.a.Title,null,r.a.createElement("h3",null,this.props.place.name)),r.a.createElement(g.a.Text,null,this.props.place.description),r.a.createElement("div",null,r.a.createElement(b.a,{variant:"dark",size:"m",onClick:this.handleClick.bind(this)},"Navigate"),r.a.createElement("h2",{className:"favb",onClick:this.removeCard.bind(this)},r.a.createElement(W.a,{icon:T.a})))))}}]),t}(r.a.Component),H=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleClick",value:function(e){this.props.addToGroup(this.props.carPlace)}},{key:"render",value:function(){return r.a.createElement("div",{className:"wrap-item"},r.a.createElement("img",{className:"d-block w-100",src:a(114),alt:this.props.carPlace.alt}),r.a.createElement("div",{className:"place-des"},r.a.createElement("h3",null,this.props.carPlace.name),r.a.createElement("p",null," ",this.props.carPlace.description," "),r.a.createElement("div",{className:"favbut"},r.a.createElement(b.a,{variant:"dark",size:"lg",className:"addFav",onClick:this.handleClick.bind(this)},r.a.createElement(W.a,{icon:A.a}),"Favorite"))))}}]),t}(r.a.Component),J=a(82),K=a(127),Y=a(80),V=a(81),q=a(123),Q=a(7),X=a.n(Q),Z=(a(47),a(58),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleClose=function(){return a.setState({show:!1})},a.handleDelete=function(e){a.props.delete(e)},a.saveMap=function(e){a.map=e,a.setState({isMapInit:!0})},a.state={show:!1,lat:"",long:"",name:"",favs:Y,favKeys:[],caro:V,start:{name:"",lat:"",long:""},img:"./img/burke.jpg",isMapInit:!1},a.showMap=a.showMap.bind(Object(h.a)(a)),a.handleSearch=a.handleSearch.bind(Object(h.a)(a)),a.addToGroup=a.addToGroup.bind(Object(h.a)(a)),console.log("places constructor"),console.log(a.props),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"showMap",value:function(e,t,a){this.setState({show:!0,lat:e,long:t,name:a})}},{key:"addToGroup",value:function(e){console.log("CAROUSELLLL ADDDDDDD"),this.props.add(e)}},{key:"handleSearch",value:function(e){this.setState({start:e})}},{key:"render",value:function(){var e=this;if(null!=this.props.favs||void 0!=this.props.favs){var t=[];Object.keys(this.props.favs).map((function(a){t.push(r.a.createElement(_,{place:e.props.favs[a],placeKey:a,dealWithPlace:e.showMap.bind(e),handleDelete:e.handleDelete.bind(e)}))})),this.state.cards=t}else this.state.cards=r.a.createElement("h1",{id:"no-favs"},"Head over to our carousel or home page to add things to your favorites!");if(null!=this.props.caro||void 0!=this.props.caro){var a=[];this.props.caro.map((function(t){a.push(r.a.createElement(J.a,null,r.a.createElement(H,{carPlace:t,addToGroup:e.addToGroup.bind(e)})))})),this.state.caroThing=a}return null==this.props.zip&&void 0==this.props.zip||(this.state.zip=this.props.zip),r.a.createElement("div",null,r.a.createElement("div",{style:{"text-align":"center"}},r.a.createElement("h2",null,"Places near zip: ",this.state.zip," "),r.a.createElement("p",null,"Customize your zip in profile!")),r.a.createElement("div",{className:"container d-flex justify-content-center"},r.a.createElement(K.a,{stype:{padding:"2rem"},className:"col-12 col-md-12 col-lg-10 col-xl-9"},this.state.caroThing)),r.a.createElement("div",{style:{"text-align":"center"}},r.a.createElement("h2",null,"My Favorited Places!"),r.a.createElement("p",null,"Add and remove places by pressing the heart!")),r.a.createElement("div",null,r.a.createElement("div",{className:"row justify-content-center"},this.state.cards),r.a.createElement("div",null,r.a.createElement(q.a,{show:this.state.show,onHide:this.handleClose,size:"lg"},r.a.createElement(q.a.Header,{closeButton:!0},r.a.createElement(q.a.Title,null,"Enter a Start Location!")),r.a.createElement(q.a.Body,null,r.a.createElement(N,{startResult:this.handleSearch}),r.a.createElement("div",{id:"mapContainer"},r.a.createElement(R.a,{center:[this.state.lat,this.state.long],zoom:14,ref:this.saveMap},r.a.createElement(B.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),r.a.createElement(U,{map:this.map,sLat:this.state.start.lat,sLong:this.state.start.long,eLat:this.state.lat,eLong:this.state.long,fromForm:!1}))))))))}}]),t}(r.a.Component)),$=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleShow=function(){a.setState({show:!1})},a.state={show:!0,home:""},a.handleSearch=a.handleSearch.bind(Object(h.a)(a)),a.submit=a.submit.bind(Object(h.a)(a)),a.homeRef=X.a.database().ref("home"),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"submit",value:function(e){this.homeRef.child(X.a.auth().currentUser.uid).set(this.state.home)}},{key:"handleSearch",value:function(e){this.setState({home:e})}},{key:"handleIt",value:function(e){console.log(e),this.props.dealWithSearch(e)}},{key:"render",value:function(){return console.log("a;sdfjlkasjd"),r.a.createElement("div",null,r.a.createElement(q.a,{show:this.props.show,fade:!1,animation:!1,style:{opacity:1},onHide:this.props.hide},r.a.createElement(q.a.Header,{closeButton:!0},r.a.createElement(q.a.Title,null,"Enter your home zip code!")),r.a.createElement(q.a.Body,null,r.a.createElement(N,{startResult:this.handleIt.bind(this)})),r.a.createElement(q.a.Footer,null,r.a.createElement(b.a,{variant:"primary",onClick:this.props.submit},"Submit"))))}}]),t}(r.a.Component),ee=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"profileBack"},r.a.createElement("div",{id:"profile"},r.a.createElement(g.a,null,r.a.createElement(g.a.Title,null,r.a.createElement("h2",null,this.props.email)),r.a.createElement(g.a.Text,null,r.a.createElement("p",null,"Home Zipcode: ",this.props.homeName),r.a.createElement(b.a,{variant:"outline-primary",onClick:this.props.handleEdit,size:"lg"},"Edit Zipcode")))))}}]),t}(r.a.Component),te=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleEdit=function(){a.setState({show:!0})},a.handleShow=function(){a.setState({show:!1})},a.state={show:!1,home:""},a.handleSearch=a.handleSearch.bind(Object(h.a)(a)),a.submit=a.submit.bind(Object(h.a)(a)),a.homeRef=X.a.database().ref("home"),a.handleEdit=a.handleEdit.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleSearch",value:function(e){this.setState({home:e})}},{key:"submit",value:function(){return this.setState({show:!1}),this.props.submitHome(this.state.home)}},{key:"render",value:function(){var e="";return null!==this.props.zip&&(console.log(this.props.zip),e=this.props.zip.name),r.a.createElement("div",null,r.a.createElement(ee,{email:this.props.email,handleEdit:this.handleEdit.bind(this),homeName:e}),r.a.createElement($,{show:this.state.show,hide:this.handleShow,dealWithSearch:this.handleSearch.bind(this),submit:this.submit}))}}]),t}(r.a.Component),ae=a(126),ne=a(125);X.a.initializeApp({apiKey:"AIzaSyCVLL1UxsXFkivaYWbQRYffkPgPm_qAPKQ",authDomain:"team-bread2.firebaseapp.com",databaseURL:"https://team-bread2.firebaseio.com",projectId:"team-bread2",storageBucket:"team-bread2.appspot.com",messagingSenderId:"1061902460600",appId:"1:1061902460600:web:35126bb3d81bccc221f64d",measurementId:"G-4S9R2VXWSS"});var re={signInFlow:"popup",signInSuccessUrl:"",signInOptions:[X.a.auth.GoogleAuthProvider.PROVIDER_ID]},ie=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).getResults=e.getResults.bind(Object(h.a)(e)),e.test=e.test.bind(Object(h.a)(e)),e.addFav=e.addFav.bind(Object(h.a)(e)),e.removeFav=e.removeFav.bind(Object(h.a)(e)),e.submitHome=e.submitHome.bind(Object(h.a)(e)),e.calculateBB=e.calculateBB.bind(Object(h.a)(e)),e.getLatDiff=e.getLatDiff.bind(Object(h.a)(e)),e.getLongDiff=e.getLongDiff.bind(Object(h.a)(e)),e.findRandom10=e.findRandom10.bind(Object(h.a)(e)),e.state={start:{},distance:0,amenities:"",BB:[],isSignedIn:!1,favs:[],homezip:"",bbLink:"",caroPlaces:[]},e.favoritesRef=X.a.database().ref("favorites"),e.homeRef=X.a.database().ref("home"),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.unregisterAuthObserver=X.a.auth().onAuthStateChanged((function(t){t&&(e.favoritesRef.child(t.uid).on("value",(function(a){var n=a.toJSON();e.setState({isSignedIn:!!t,onSignInPage:!1,userId:t.uid,favs:n})})),e.homeRef.child(t.uid).on("value",(function(t){var a=t.toJSON();null==a&&(a={lat:47.66142440000001,long:-122.2683743,name:"98105"}),e.setState({homezip:a});var n=e.calculateBB(a.lat,a.long,5),r="https://overpass-api.de/api/interpreter?data=[out:json];node[leisure=dog_park]"+n+";out;node[leisure=fire_pit]"+n+";out;node[leisure=garden]"+n+";out;node[leisure=nature_reserve]"+n+";out;node[leisure=park]"+n+";out;node[leisure=playground]"+n+";out;node[leisure=track]"+n+";out;";e.setState({bbLink:r}),fetch(r).then((function(e){return e.json()})).then((function(t){var a=[],n=t.elements;n.length>1&&(n=e.findRandom10(n));for(var r=0;r<n.length;r++)if(void 0==n[r])r++;else if(void 0==n[r].tags.name)r++;else{var i={name:n[r].tags.name,lat:n[r].lat,long:n[r].lon};a.push(i)}return a})).then((function(t){e.setState({caroPlaces:t})}))})));e.setState({isSignedIn:!!t})}))}},{key:"getResults",value:function(e,t,a,n){return this.setState({start:e,distance:t,amenity:a,BB:n})}},{key:"addFav",value:function(e){this.favoritesRef.child(this.state.userId).push(e)}},{key:"removeFav",value:function(e){this.favoritesRef.child(this.state.userId).child(e).remove()}},{key:"submitHome",value:function(e){this.homeRef.child(X.a.auth().currentUser.uid).set(e)}},{key:"calculateBB",value:function(e,t,a){return"("+(e-this.getLatDiff(a)).toFixed(6)+","+(t-this.getLongDiff(a,e)).toFixed(6)+","+(e+this.getLatDiff(a)).toFixed(6)+","+(t+this.getLongDiff(a,e)).toFixed(6)+")"}},{key:"getLongDiff",value:function(e,t){return e/(111*Math.cos(Math.PI/180*t))}},{key:"getLatDiff",value:function(e){return e/111}},{key:"findRandom10",value:function(e){for(var t=[],a=e.length,n=[],r=0;r<10;r++){for(var i=Math.round(Math.random()*a);n.includes(i);)i=Math.round(Math.random()*a);n.push(i),t.push(e[i])}return t}},{key:"test",value:function(){X.a.auth().signOut()}},{key:"render",value:function(){return console.log("/team-bread"),r.a.createElement(v.a,null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(ae.a,{bg:"light",expand:"sm"},r.a.createElement(ae.a.Brand,{as:v.b,to:"/",id:"navbar-brand"},"Walk Buddy"),r.a.createElement(ae.a.Toggle,{"area-controls":"basic-navbar-nav"}),r.a.createElement(ae.a.Collapse,null,r.a.createElement(ne.a,null,r.a.createElement(v.b,{to:"/",className:"nav-link",exact:!0},"Home"),r.a.createElement(v.b,{to:"/howto",className:"nav-link",exact:!0},"How-To"),r.a.createElement(v.b,{to:"/places",className:"nav-link",exact:!0},"Places"),r.a.createElement(v.b,{to:"/profile",className:"nav-link exact"},"Profile"),r.a.createElement("div",null,this.state.isSignedIn?r.a.createElement(b.a,{onClick:this.test},"Sign-Out"):r.a.createElement(v.b,{to:"/login",className:"nav-link",exact:!0},"Login")))))),r.a.createElement("footer",null,r.a.createElement("p",null,"\xa9 2020 Jocelyn Afandi & Anna Zhou")),r.a.createElement("div",null,r.a.createElement(x.d,null,r.a.createElement(x.b,{exact:!0,path:"/team-bread"},r.a.createElement(E,{home:!0})),r.a.createElement(x.b,{exact:!0,path:"/"},r.a.createElement(E,{home:!0})),r.a.createElement(x.b,{exact:!0,path:"/howto",component:k}),r.a.createElement(x.b,{exact:!0,path:"/places"},X.a.auth().currentUser?r.a.createElement(Z,{favs:this.state.favs,add:this.addFav,delete:this.removeFav,caro:this.state.caroPlaces,zip:this.state.homezip.name}):r.a.createElement(f,{uiConfig:re,fbAuth:X.a.auth})),r.a.createElement(x.b,{exact:!0,path:"/profile"},X.a.auth().currentUser?r.a.createElement(te,{email:X.a.auth().currentUser&&X.a.auth().currentUser.displayName,zip:this.state.homezip,submitHome:this.submitHome}):r.a.createElement(f,{uiConfig:re,fbAuth:X.a.auth})),"\u2500       ",r.a.createElement(x.b,{exact:!0,path:"/login"},X.a.auth().currentUser?r.a.createElement(x.a,{to:"/"}):r.a.createElement(f,{uiConfig:re,fbAuth:X.a.auth})),r.a.createElement(x.b,{exact:!0,path:"/findroute"}," ",r.a.createElement(P,{getResults:this.getResults})," "),r.a.createElement(x.a,{from:"/findroute",to:"/resultsmap"}),r.a.createElement(x.b,{exact:!0,path:"/resultsmap"},r.a.createElement(G,{start:this.state.start,distance:this.state.distance,amenity:this.state.amenity,addFav:this.addFav}))))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(116);o.a.render(r.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},45:function(e,t,a){},68:function(e,t,a){},80:function(e){e.exports=JSON.parse('[{"name":"Washington Park Arboretum","description":"Chill nature walk among lots of pretty trees and plants. (Don\'t go when it\'s raining)","source":"./img/arboretum.jpg","alt":"Japanese Garden in Washington Park Arboretum","lat":47.639774,"long":-122.294524},{"name":"Gas Works Park","description":"Flat walk on the Burke Gilman to see Gas Works Park. Really great views at the top of the hill but often crowded on weekends","source":"https://info340d-au18.github.io/team-bread/img/GasWorksPark3.jpg","alt":"Factory at Gas Works","lat":47.645746,"long":-122.3349},{"name":"Green Lake Park","description":"Hilly walk up, but worth it to see the local park at Green Lake. Watch out for the geese","source":"https://info340d-au18.github.io/team-bread/img/green-lake-park-03.jpg","alt":"People boating in Sunny Green Lake","lat":47.680315,"long":-122.32881},{"name":"Pie Bar","description":"A big of a long walk from the University District, but well worth for the pie! Underage foodies be ready to eat outside \ud83d\ude22","source":"https://info340d-au18.github.io/team-bread/img/piebar.jpeg","alt":"slice of cherry pie","lat":47.672349,"long":-122.386435},{"name":"Sea Wolf Bakery","description":"Sea Wolf Bakers is the most amazing bakery in the whole world. Their sourdough is amazing, their chocolate croissants are amazing...tough walk but worth it for the carbs","source":"https://info340d-au18.github.io/team-bread/img/seawolf.png","alt":"caf\xe9 at Sea Wolf Bakery","lat":47.651221,"long":-122.34311},{"name":"University Village","description":"Walk to shop! Walking to U-Ville is very hilly, but it makes it feel like you deserve to shop now","source":"https://info340d-au18.github.io/team-bread/img/uvill.jpg","alt":"Amazon Books at University Village","lat":47.662095,"long":-122.30017}]')},81:function(e){e.exports=JSON.parse('[{"name":"Burke Gilman Trail","description":"A 19.8 mile long trail for bikers, walkers, and runners. Stops on the trail include Gas Works Park, The Fremont Troll, and University of Washington","source":"./img/burke.jpg","alt":"burke trail map","lat":47.696025,"long":-122.278008},{"name":"Ravenna Park Trail","description":"A 1.7 mile loop with wild flower features. Good for an hour\'s walk! Near the University District and a perfect place to take your dog on a short walk.","source":"../img/ravenna.jpg","alt":"ravenna trail map","lat":47.672815,"long":-122.308022},{"name":"Rattlesnake Ridge Trail","description":"A 4.0 mile roundtrip hiking trail in the North Bend Area. Perfect for beginning hikers. Short hike with a beautiful view","source":"../img/rattlesnake.jpg","alt":"rattlesnake view","lat":47.446376,"long":-121.795166}]')},86:function(e,t,a){e.exports=a(118)},91:function(e,t,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.45eb077d.chunk.js.map